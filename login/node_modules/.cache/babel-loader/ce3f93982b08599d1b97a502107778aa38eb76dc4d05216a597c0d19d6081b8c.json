{"ast":null,"code":"var _jsxFileName = \"D:\\\\breylin.velasquez\\\\Desktop\\\\login\\\\src\\\\components\\\\login.jsx\";\nimport React, { Component } from \"react\";\nimport \"../css/style.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport logo from \"../img/AXCESGEO.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseUrl = \"http://localhost:3001/usuarios\";\nconst cookies = new Cookies();\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n    this.handleChange = async e => {\n      await this.setState({\n        form: {\n          ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n    this.iniciarSesion = async () => {\n      await axios.get(baseUrl, {\n        params: {\n          email: this.state.form.email,\n          password: this.state.form.password\n        }\n      }).then(response => {\n        return response.data;\n      }).then(response => {\n        if (response.length > 0) {\n          const respuesta = response[0];\n          cookies.set(\"id\", respuesta.id, {\n            path: \"/\"\n          });\n          cookies.set(\"primer_apellido\", respuesta.primer_apellido, {\n            path: \"/\"\n          });\n          cookies.set(\"segundo_apellido\", respuesta.segundo_apellido, {\n            path: \"/\"\n          });\n          cookies.set(\"nombre\", respuesta.nombre, {\n            path: \"/\"\n          });\n          cookies.set(\"email\", respuesta.email, {\n            path: \"/\"\n          });\n          alert(`Bienvenido ${respuesta.nombre} ${respuesta.primer_apellido}`);\n          window.location.href = \"./menu\";\n        } else {\n          alert(\"El usuario o la contraseña no son correctos\");\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n  componentDidMount() {\n    if (cookies.get(\"email\")) {\n      window.location.href = \"./menu\";\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerPrincipal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerSecundario\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"card\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: logo,\n                className: \"card-img-top\",\n                alt: \"..\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"title_login\",\n              children: \"Inicio de Sesion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-contro\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa-solid fa-envelope\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"text-inp\",\n                  type: \"text\",\n                  name: \"email\",\n                  placeholder: \"Correo Electronico\",\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-contro\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa-solid fa-lock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"\",\n                  type: \"password\",\n                  name: \"password\",\n                  placeholder: \"Contrase\\xF1a\",\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"\",\n              children: \"Recuerdame\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => this.iniciarSesion(),\n              children: \"Iniciar Sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              children: \"\\xBFOlvidaste la contrase\\xF1a?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","axios","Cookies","logo","baseUrl","cookies","Login","state","form","email","password","handleChange","e","setState","target","name","value","iniciarSesion","get","params","then","response","data","length","respuesta","set","id","path","primer_apellido","segundo_apellido","nombre","alert","window","location","href","catch","error","console","log","componentDidMount","render"],"sources":["D:/breylin.velasquez/Desktop/login/src/components/login.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../css/style.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nimport logo from \"../img/AXCESGEO.svg\";\r\n\r\nconst baseUrl = \"http://localhost:3001/usuarios\";\r\nconst cookies = new Cookies();\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    form: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n  };\r\n\r\n  handleChange = async (e) => {\r\n    await this.setState({\r\n      form: {\r\n        ...this.state.form,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  iniciarSesion = async () => {\r\n    await axios\r\n      .get(baseUrl, {\r\n        params: {\r\n          email: this.state.form.email,\r\n          password: this.state.form.password,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .then((response) => {\r\n        if (response.length > 0) {\r\n          const respuesta = response[0];\r\n          cookies.set(\"id\", respuesta.id, { path: \"/\" });\r\n          cookies.set(\"primer_apellido\", respuesta.primer_apellido, {\r\n            path: \"/\",\r\n          });\r\n          cookies.set(\"segundo_apellido\", respuesta.segundo_apellido, {\r\n            path: \"/\",\r\n          });\r\n          cookies.set(\"nombre\", respuesta.nombre, { path: \"/\" });\r\n          cookies.set(\"email\", respuesta.email, { path: \"/\" });\r\n          alert(`Bienvenido ${respuesta.nombre} ${respuesta.primer_apellido}`);\r\n          window.location.href = \"./menu\";\r\n        } else {\r\n          alert(\"El usuario o la contraseña no son correctos\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (cookies.get(\"email\")) {\r\n      window.location.href = \"./menu\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"containerPrincipal\">\r\n          <div className=\"containerSecundario\">\r\n            <div className=\"form-group\">\r\n              <div class=\"card\">\r\n                <img src={logo} className=\"card-img-top\" alt=\"..\"></img>\r\n              </div>\r\n              <h4 className=\"title_login\">Inicio de Sesion</h4>\r\n\r\n              {/* correo electronico html */}\r\n              <form action=\"\">\r\n                <div class=\"form-contro\">\r\n                  <i class=\"fa-solid fa-envelope\"></i>\r\n                  <input\r\n                    class=\"text-inp\"\r\n                    type=\"text\"\r\n                    name=\"email\"  \r\n                    placeholder=\"Correo Electronico\"\r\n                    onChange={this.handleChange}/>\r\n                </div>\r\n                {/* contraseña html */}\r\n                <div class=\"form-contro\">\r\n                  <i class=\"fa-solid fa-lock\"></i>\r\n                  <input class=\"\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Contraseña\"\r\n                    onChange={this.handleChange}/>\r\n                </div>\r\n                </form>\r\n\r\n               \r\n\r\n                <input type=\"checkbox\" />\r\n                 <label htmlFor=\"\">Recuerdame</label>\r\n              <br />\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => this.iniciarSesion()}\r\n                >\r\n                  Iniciar Sesión\r\n                </button>\r\n              \r\n              <br />\r\n              <a>¿Olvidaste la contraseña?</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}