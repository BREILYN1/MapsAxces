{"ast":null,"code":"var _jsxFileName = \"D:\\\\breylin.velasquez\\\\Desktop\\\\login\\\\src\\\\components\\\\login.jsx\";\nimport React, { Component } from \"react\";\nimport \"../css/style.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\n// import md5 from \"md5\";\nimport Cookies from \"universal-cookie\";\n\n// const baseUrl = \"http://demo5054193.mockable.io/usuarios\";\n// const cookies = new Cookies();\n\n// class Login extends Component {\n//   // codigo javascript\n//   state = {\n//     form: {\n//       username: '',\n//       password: ''  \n//     }\n//   }\n//   handleChange = async e=> {\n//     await this.setState({\n//       form: {\n//         ...this.state.form,\n//         [e.target.name]: e.target.value\n//       }\n//     })\n//   }\n//   iniciarSesion = async () => {\n//     await axios.get(baseUrl, {params: {username: this.state.form.username, password: this.state.form.password}})\n//     //console.log(this.state.form);\n//       .then((response) => {\n//         return response.data;\n//       })    \n//       .then((response) => {\n//         if (response !== \"\") {\n//           var respuesta= response[0]\n//           cookies.set('id', respuesta.id, { path: \"/\" });\n//           cookies.set('primer_apellido', respuesta.primer_apellido, {path: \"/\"});\n//           cookies.set('segundo_apellido', respuesta.segundo_apellido, {path: \"/\"});\n//           cookies.set('nombre', respuesta.nombre, {path: \"/\"});\n//           cookies.set('username', respuesta.username, {path: \"/\"});\n//           alert(`Bienvenido ${respuesta.nombre} ${respuesta.apellido_paterno}`);\n//         } \n//         else{\n//             alert(\"el usuario o contraseña no son correctos\");\n//         }\n//       })\n//       .catch((error) => {\n//         console.log(error);\n//       })\n//   }\n\n//   render() {\n//     return (\n//       <>\n//         <div className=\"containerPrincipal\">\n//           <div className=\"containerSecundario\">\n//             <div className=\"form-group\">\n//               <h1>Inicio de Sesion</h1>\n//               <input\n//                 type=\"text\"\n//                 className=\"form-control\"\n//                 placeholder=\"Usuario\"\n//                 name=\"username\"\n//                 onChange={this.handleChange}\n//               />\n//               <br />\n//               <input\n//                 type=\"password\"\n//                 className=\"form-control\"\n//                 placeholder=\"Contraseña\"\n//                 name=\"password\"\n//                 onChange={this.handleChange}\n//               />\n//               <br />\n//               <input type=\"checkbox\" />\n//               <label>Recuerdame</label>\n//               <br />\n//               <button\n//                 className=\"btn btn-primary\"\n//                 onClick={() => this.iniciarSesion()}>Iniciar Sesión</button>\n//             </div>\n//           </div>\n//         </div>\n//       </>\n//     );\n//   }\n// }\n// export default Login;\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = \"https://demo5054193.mockable.io/usuarios\";\nconst cookies = new Cookies();\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        username: '',\n        password: ''\n      }\n    };\n    this.handleChange = async e => {\n      await this.setState({\n        form: {\n          ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n    this.iniciarSesion = async () => {\n      await axios.get(baseUrl, {\n        params: {\n          username: this.state.form.username,\n          password: this.state.form.password\n        }\n      }).then(response => {\n        return response.data;\n      }).then(response => {\n        if (response.length > 0) {\n          var respuesta = response[0];\n          cookies.set('id', respuesta.id, {\n            path: \"/\"\n          });\n          cookies.set('primer_apellido', respuesta.primer_apellido, {\n            path: \"/\"\n          });\n          cookies.set('segundo_apellido', respuesta.segundo_apellido, {\n            path: \"/\"\n          });\n          cookies.set('nombre', respuesta.nombre, {\n            path: \"/\"\n          });\n          cookies.set('username', respuesta.username, {\n            path: \"/\"\n          });\n          alert(`Bienvenido ${respuesta.nombre} ${respuesta.apellido_paterno}`);\n        }\n        // else{\n        //     alert('El usuario o la contraseña no son correctos');\n        // }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n  componentDidMount() {\n    if (cookies.get('username')) {\n      window.location.href = \"./menu\";\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerPrincipal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerSecundario\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Usuario: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"username\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Contrase\\xF1a: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            name: \"password\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => this.iniciarSesion(),\n            children: \"Iniciar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","axios","Cookies","baseUrl","cookies","Login","state","form","username","password","handleChange","e","setState","target","name","value","iniciarSesion","get","params","then","response","data","length","respuesta","set","id","path","primer_apellido","segundo_apellido","nombre","alert","apellido_paterno","catch","error","console","log","componentDidMount","window","location","href","render"],"sources":["D:/breylin.velasquez/Desktop/login/src/components/login.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../css/style.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\n// import md5 from \"md5\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\n// const baseUrl = \"http://demo5054193.mockable.io/usuarios\";\r\n// const cookies = new Cookies();\r\n\r\n// class Login extends Component {\r\n//   // codigo javascript\r\n//   state = {\r\n//     form: {\r\n//       username: '',\r\n//       password: ''  \r\n//     }\r\n//   }\r\n//   handleChange = async e=> {\r\n//     await this.setState({\r\n//       form: {\r\n//         ...this.state.form,\r\n//         [e.target.name]: e.target.value\r\n//       }\r\n//     })\r\n//   }\r\n//   iniciarSesion = async () => {\r\n//     await axios.get(baseUrl, {params: {username: this.state.form.username, password: this.state.form.password}})\r\n//     //console.log(this.state.form);\r\n//       .then((response) => {\r\n//         return response.data;\r\n//       })    \r\n//       .then((response) => {\r\n//         if (response !== \"\") {\r\n//           var respuesta= response[0]\r\n//           cookies.set('id', respuesta.id, { path: \"/\" });\r\n//           cookies.set('primer_apellido', respuesta.primer_apellido, {path: \"/\"});\r\n//           cookies.set('segundo_apellido', respuesta.segundo_apellido, {path: \"/\"});\r\n//           cookies.set('nombre', respuesta.nombre, {path: \"/\"});\r\n//           cookies.set('username', respuesta.username, {path: \"/\"});\r\n//           alert(`Bienvenido ${respuesta.nombre} ${respuesta.apellido_paterno}`);\r\n//         } \r\n//         else{\r\n//             alert(\"el usuario o contraseña no son correctos\");\r\n//         }\r\n//       })\r\n//       .catch((error) => {\r\n//         console.log(error);\r\n//       })\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <>\r\n//         <div className=\"containerPrincipal\">\r\n//           <div className=\"containerSecundario\">\r\n//             <div className=\"form-group\">\r\n//               <h1>Inicio de Sesion</h1>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 className=\"form-control\"\r\n//                 placeholder=\"Usuario\"\r\n//                 name=\"username\"\r\n//                 onChange={this.handleChange}\r\n//               />\r\n//               <br />\r\n//               <input\r\n//                 type=\"password\"\r\n//                 className=\"form-control\"\r\n//                 placeholder=\"Contraseña\"\r\n//                 name=\"password\"\r\n//                 onChange={this.handleChange}\r\n//               />\r\n//               <br />\r\n//               <input type=\"checkbox\" />\r\n//               <label>Recuerdame</label>\r\n//               <br />\r\n//               <button\r\n//                 className=\"btn btn-primary\"\r\n//                 onClick={() => this.iniciarSesion()}>Iniciar Sesión</button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </>\r\n//     );\r\n//   }\r\n// }\r\n// export default Login;\r\n\r\nconst baseUrl=\"https://demo5054193.mockable.io/usuarios\";\r\nconst cookies = new Cookies();\r\n\r\nclass Login extends Component {\r\n    state={\r\n        form:{\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    handleChange=async e=>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    iniciarSesion=async()=>{\r\n        await axios.get(baseUrl, {params: {username: this.state.form.username, password: this.state.form.password}})\r\n        .then(response=>{\r\n            return response.data;\r\n        })\r\n        .then(response=>{\r\n            if(response.length>0){\r\n                var respuesta=response[0];\r\n                cookies.set('id', respuesta.id, { path: \"/\" });\r\n                cookies.set('primer_apellido', respuesta.primer_apellido, {path: \"/\"});\r\n                cookies.set('segundo_apellido', respuesta.segundo_apellido, {path: \"/\"});\r\n                cookies.set('nombre', respuesta.nombre, {path: \"/\"});\r\n                cookies.set('username', respuesta.username, {path: \"/\"});\r\n                alert(`Bienvenido ${respuesta.nombre} ${respuesta.apellido_paterno}`);\r\n            }\r\n            // else{\r\n            //     alert('El usuario o la contraseña no son correctos');\r\n            // }\r\n        })\r\n        .catch(error=>{\r\n            console.log(error);\r\n        })\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(cookies.get('username')){\r\n            window.location.href=\"./menu\";\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n    <div className=\"containerPrincipal\">\r\n        <div className=\"containerSecundario\">\r\n          <div className=\"form-group\">\r\n            <label>Usuario: </label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"username\"\r\n              onChange={this.handleChange}\r\n            />\r\n            <br />\r\n            <label>Contraseña: </label>\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"password\"\r\n              onChange={this.handleChange}\r\n            />\r\n            <br />\r\n            <button className=\"btn btn-primary\" onClick={()=> this.iniciarSesion()}>Iniciar Sesión</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}